<div *ngIf="showPopUp" id="alertModal" class="modal fade show d-block" aria-modal="true">
  <div class="modal-dialog modal-dialog-centered">    
    <div class="modal-content shadow-lg text-light rounded-3">
      <div class="modal-header text-center border-bottom-0">
        <!-- <p class="col-10 ms-4 modal-title text-center fs-3 fw-bold">Verify OTP</p>
        <button type="button" class="col-2 btn-close btn-close-white mt-0" data-bs-dismiss="modal" aria-label="Close"></button> -->
        <h5 class="modal-title text-center w-100">Change Password</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="dispPopUp(false)"></button>
      </div>
      <div class="modal-body">
        <div *ngIf="!otpSent" class="container-fluid">         
          <div class="row m-3 mb-0 justify-content-center">
            <!-- <div class="alert alert-success col-12 px-2 py-0 mx-3 mb-2 text-center">
              Your account has been created successfully!
            </div> -->
            <div class="row mb-2">    
              <div class="alert col-12 px-2 py-0 ms-1 my-0">
                Enter your registered email Id:
              </div>
            </div>   
            <div class="row mb-2">              
              <div class="input-group col-12 m-1">
                <span class="input-group-text" id="basic-addon1"><i class="fa fa-envelope"></i></span>
                <input 
                  required email maxlength="50"
                  name="email" 
                  type="email" 
                  [(ngModel)]="otpEmailId"
                  class="form-control" 
                  placeholder="EMail"         
                  aria-label="EMail" 
                  aria-describedby="basic-addon1"/>
              </div>
              <div *ngIf="invalidInput" class="alert alert-danger col-12 px-2 py-0 my-0 mx-3">
                Enter valid email Id!
              </div>
            </div>
            <div class="row mt-2">
              <div class="col-12 fs-6 m-1 text-center">
                <button class="btn btn-light text-dark shadow-lg fw-bold" (click)="submitEmail()">Submit</button>      
              </div>
            </div>
          </div> 
          <div class="row m-3  justify-content-center text-dark">
            <div class="col-12 fs-5 p-1 text-center bg-light w-75 rounded-pill fw-bold w-25">PicItUp</div>
          </div>        
        </div>
        <div *ngIf="otpSent" class="container-fluid">    
          <form name="signInForm" #cpF="ngForm" (ngSubmit)="changePassword(cpF)" [mustMatch]="['newPassword', 'newPassword2']">  
            <div class="row m-3 mb-0 justify-content-center">
              <!-- <div class="alert alert-success col-12 px-2 py-0 mx-3 mb-2 text-center">
                Your account has been created successfully!
              </div> -->
              <div class="alert col-12 px-2 py-0 mx-3 my-0 text-center">
                An OTP has been sent to <span class="fw-bold">{{otpEmailId}}</span>. <p>Please enter OTP and confirm new password:</p>
              </div>
              <div class="row mb-2">              
                <div class="input-group col-12 m-1">
                  <span class="input-group-text" id="basic-addon1"><i class="fa fa-key"></i></span>
                  <input 
                    name="otp"
                    minlength="4"
                    maxlength="4"    
                    required
                    pattern="\d*"                              
                    [(ngModel)]="otpInput" 
                    #otp="ngModel"
                    type="text" class="form-control" placeholder="OTP (4 digit)" aria-label="OTP" aria-describedby="basic-addon1">
                </div>  
                <div *ngIf="cpF.submitted && otp.invalid" class="alert alert-danger col-12 px-2 py-0 mx-3 my-0">
                  OTP must be a 4 digit number!
                </div>                            
              </div>
              <div class="row">
                <div class="col-12 fs-6 m-1">New Password</div>
                <div class="input-group col-12 m-1">
                  <span class="input-group-text" id="basic-addon1"><i class="fa fa-key"></i></span>
                  <input 
                    required minlength="6" maxlength="50" [(ngModel)]="passwordInput" #newPassword="ngModel"
                    name="newPassword" 
                    type="password"                     
                    class="form-control" 
                    placeholder="Password" 
                    aria-label="Password" 
                    aria-describedby="basic-addon1"/>
                </div>  
                <div *ngIf="cpF.submitted && newPassword.invalid" class="alert alert-danger col-12 px-2 py-0 mx-3 my-0">
                  Password must be atleast of 6 characters!
                </div>             
              </div>
              <div class="row">
                <div class="col-12 fs-6 m-1">Confirm Password</div>
                <div class="input-group col-12 m-1">
                  <span class="input-group-text" id="basic-addon1"><i class="fa fa-key"></i></span>
                  <input 
                  ngModel #newPassword2="ngModel"  
                  name="newPassword2" 
                  type="password"                 
                  class="form-control" 
                  placeholder="Password" 
                  aria-label="Password" 
                  aria-describedby="basic-addon1"/>
                </div>   
                <div *ngIf="cpF.submitted && newPassword2.invalid" class="alert alert-danger col-12 px-2 py-0 mx-3 my-0">
                  Your password did not match!
                </div>          
              </div>
              <div class="row mt-2">
                <div class="col-12 fs-6 m-1 text-center">
                  <button class="btn btn-light text-dark shadow-lg fw-bold">Change Password</button>      
                </div>
              </div>
            </div> 
          </form>    
          <div class="row m-3 mt-0">            
            <div class="col-12 fs-6 m-1 text-center">
              <button (click)="resendOTP()" class="btn btn-link btn-md text-center">
                Resend OTP
              </button>
            </div>
          </div>    
          <div class="row m-3  justify-content-center text-dark">
            <div class="col-12 fs-5 p-1 text-center bg-light w-75 rounded-pill fw-bold w-25">PicItUp</div>
          </div>        
        </div>
      </div>
      <div class="modal-footer border-top-0">
        <!-- <button class="btn btn-primary text-light rounded-0 fw-bold">Sign In</button> -->
        <!-- <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button> -->
      </div>
    </div>
  </div>
</div> 